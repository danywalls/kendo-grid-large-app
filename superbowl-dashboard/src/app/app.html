<div class="dashboard">
    <header style="margin-bottom: 30px;">
        <h1>üèà Super Bowl Viewers Dashboard</h1>
        <p>Real-time monitoring for the biggest game of the year</p>

        <div class="actions" style="margin-top: 20px;">
            <button (click)="activeTab.set('basic')" [style.background]="activeTab() === 'basic' ? '#ff6358' : '#eee'"
                [style.color]="activeTab() === 'basic' ? 'white' : '#333'">
                Basic Virtualization Demo
            </button>
            <button (click)="activeTab.set('scale')" [style.background]="activeTab() === 'scale' ? '#ff6358' : '#eee'"
                [style.color]="activeTab() === 'scale' ? 'white' : '#333'">
                Live Scale Feed (1M Rows)
            </button>
        </div>
    </header>

    <hr style="border: 0; border-top: 1px solid #eee; margin: 30px 0;" />

    @if (activeTab() === 'basic') {
    <section>
        <h2>Phase 1: Local Virtualization</h2>
        <p>Try loading different amounts of data to see how the browser handles the DOM.</p>
        <p>Currently rendering: <strong>{{ viewers().length.toLocaleString() }}</strong> rows.</p>

        <div class="actions">
            <button (click)="loadViewers(1_000)">1K Viewers</button>
            <button (click)="loadViewers(10_000)">10K Viewers</button>
            <button (click)="loadViewers(100_000)">100K Viewers (Try scrolling!)</button>
        </div>

        <kendo-grid [data]="viewers()" [height]="500" scrollable="virtual" [rowHeight]="36" [pageSize]="50">
            <kendo-grid-column field="id" title="#" [width]="70"></kendo-grid-column>
            <kendo-grid-column field="username" title="Username" [width]="180"></kendo-grid-column>
            <kendo-grid-column field="watchTimeMin" title="Watch (min)" [width]="110"></kendo-grid-column>
            <kendo-grid-column field="isLive" title="Live" [width]="70">
                <ng-template kendoGridCellTemplate let-dataItem>
                    {{ dataItem.isLive ? 'üî¥' : '‚ö™' }}
                </ng-template>
            </kendo-grid-column>
        </kendo-grid>
    </section>
    } @else {
    <section>
        <h2>Phase 2: Live Scaling (The Million Rows)</h2>
        <app-live-grid />
    </section>
    }
</div>